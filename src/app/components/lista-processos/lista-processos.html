<div class="top-bar">
  <input
    type="text"
    placeholder="Buscar processo..."
    [(ngModel)]="busca"
    (input)="filtrar()"
  />

  <button mat-flat-button color="primary" (click)="abrirCriar()">
    + Novo Processo
  </button>
</div>

<div class="lista-container">

  <div class="card" *ngFor="let proc of processosFiltrados">
    
    <!-- InformaÃ§Ãµes principais -->
    <div class="info">
      <h3>{{ proc.numeroProcesso }}</h3>

      <p>
        <strong>Cliente:</strong>
        {{ getNomeCliente(proc) }}
      </p>

      <p>
        <strong>AÃ§Ã£o:</strong>
        {{ proc.tipoAcao }}
      </p>

      <p>
        <strong>Status:</strong>
        {{ proc.status }}
      </p>

      <p>
        <strong>DistribuÃ­do em:</strong>
        {{ proc.dataDistribuicao | date:'dd/MM/yyyy' }}
      </p>
    </div>

    <!-- Menu de aÃ§Ãµes -->
    <div class="menu-wrapper">
      
      <button class="menu-btn" (click)="toggleMenu(proc.id)">
        â‹®
      </button>

      <div class="menu" *ngIf="itemAberto === proc.id">
        <button (click)="visualizar(proc)">ğŸ‘ Visualizar</button>
        <button (click)="editar(proc)">âœï¸ Editar</button>
        <button class="excluir" (click)="excluir(proc.id)">ğŸ—‘ Excluir</button>
      </div>

    </div>
  </div>

  <p *ngIf="processosFiltrados.length === 0" class="nenhum">
    Nenhum processo encontrado.
  </p>

</div>
